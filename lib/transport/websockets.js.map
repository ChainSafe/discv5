{"version":3,"file":"websockets.js","sourceRoot":"","sources":["../../src/transport/websockets.ts"],"names":[],"mappings":";;;;;;AAAA,4CAAoB;AACpB,kDAA0B;AAC1B,mCAAsC;AACtC,yCAAsC;AACtC,sCAAgE;AAEhE,kFAAwD;AAExD,MAAM,GAAG,GAAG,eAAK,CAAC,kBAAkB,CAAC,CAAC;AAOtC;;GAEG;AACH,MAAa,yBACX,SAAS,qBAAkD;IAW3D,YAAmB,SAAoB,EAAE,KAAa;QACpD,KAAK,EAAE,CAAC;QAPF,WAAM,GAA0B,SAAS,CAAC;QAE1C,gBAAW,GAEf,EAAE,CAAC;QA+DA,mBAAc,GAAG,CAAC,IAAY,EAAE,KAAkB,EAAQ,EAAE;YACjE,MAAM,SAAS,GAAG,IAAI,qBAAS,CAC7B,IAAI,KAAK,CAAC,MAAM,KAAK,MAAM,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,KAAK,IAAI,KAAK,CAAC,OAAO,QAAQ,KAAK,CAAC,IAAI,MAAM,CACrF,CAAC;YACF,IAAI;gBACF,MAAM,MAAM,GAAG,qBAAY,CAAC,IAAI,CAAC,KAAK,EAAE,IAAI,CAAC,CAAC;gBAC9C,IAAI,CAAC,IAAI,CAAC,QAAQ,EAAE,SAAS,EAAE,MAAM,CAAC,CAAC;aACxC;YAAC,OAAO,CAAC,EAAE;gBACV,IAAI,CAAC,IAAI,CAAC,aAAa,EAAE,CAAC,EAAE,SAAS,CAAC,CAAC;aACxC;QACH,CAAC,CAAC;QAEM,kBAAa,GAAG,KAAK,EAAE,YAAuB,EAAgC,EAAE;YACtF,MAAM,OAAO,GAAG,YAAY,CAAC,QAAQ,EAAE,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAA;YACxD,IAAI,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC,EAAE;gBAC7B,MAAM,MAAM,GAAG,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC,CAAC,UAAU,CAAC;gBACpD,IAAI,CAAC,MAAM,CAAC,QAAQ,EAAE;oBACpB,MAAM,MAAM,CAAC,IAAI,EAAE,CAAC;iBACrB;gBACD,OAAO,MAAM,CAAC;aACf;iBAAM;gBACL,GAAG,CAAC,sCAAsC,EAAE,YAAY,CAAC,QAAQ,EAAE,CAAC,CAAC;gBACrE,MAAM,IAAI,GAAG,YAAY,CAAC,SAAS,EAAE,CAAC;gBACtC,MAAM,GAAG,GAAG,QAAQ,IAAI,CAAC,IAAI,IAAI,IAAI,CAAC,IAAI,EAAE,CAAC;gBAC7C,IAAI,CAAC,WAAW,CAAC,OAAO,CAAC,GAAG;oBAC1B,SAAS,EAAE,YAAY;oBACvB,UAAU,EAAE,IAAI,+BAAmB,CAAC,GAAG,EAAE;wBACvC,WAAW,EAAE,CAAC,IAAY,EAAE,EAAE,CAAC,IAAI,CAAC,MAAM;wBAC1C,aAAa,EAAE,CAAC,IAAI,EAAE,EAAE,CAAC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC;qBAC3C,CAAC;iBACH,CAAC;gBACF,MAAM,MAAM,GAAG,IAAI,CAAC,WAAW,CAAC,YAAY,CAAC,QAAQ,EAAE,CAAC,CAAC,UAAU,CAAC;gBAEpE,MAAM,MAAM,CAAC,IAAI,EAAE,CAAC;gBACpB,MAAM,CAAC,EAAE,CAAC,UAAU,GAAG,aAAa,CAAC;gBACrC,IAAI,CAAC,IAAI,CAAC,qBAAqB,EAAE,YAAY,CAAC,CAAC;gBAC/C,MAAM,CAAC,iBAAiB,CAAC,WAAW,CAAC,CAAC,GAAG,EAAE,EAAE;oBAC3C,2EAA2E;oBAC3E,IAAI;wBACF,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;wBAChB,OAAO;qBACR;oBAAC,MAAM;wBACN,oCAAoC;qBACrC;oBACD,IAAI,CAAC,cAAc,CAAC,GAAG,EAAE;wBACvB,OAAO,EAAE,IAAI,CAAC,IAAI;wBAClB,MAAM,EAAE,MAAM;wBACd,IAAI,EAAE,IAAI,CAAC,IAAI;wBACf,IAAI,EAAE,GAAG,CAAC,MAAM;qBACjB,CAAC,CAAC;gBACL,CAAC,CAAC,CAAC;gBACH,MAAM,CAAC,SAAS,CAAC,WAAW,CAAC,CAAC,GAAG,EAAE,EAAE;oBACnC,IAAI;wBACF,MAAM,EAAE,OAAO,EAAE,IAAI,EAAE,GAAG,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;wBAC1C,IAAI,CAAC,SAAS,GAAG,IAAI,qBAAS,CAAC,QAAQ,OAAO,QAAQ,IAAI,EAAE,CAAC,CAAC;wBAC9D,IAAI,CAAC,IAAI,CAAC,iBAAiB,EAAE,IAAI,CAAC,SAAS,CAAC,CAAC;wBAC7C,oCAAoC;qBACrC;oBAAC,MAAM,GAAE;gBACZ,CAAC,CAAC,CAAC;gBACH,MAAM,CAAC,OAAO,CAAC,WAAW,CAAC,GAAG,EAAE,CAAC,GAAG,CAAC,sBAAsB,EAAE,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC;gBACzE,OAAO,MAAM,CAAC;aACf;QACH,CAAC,CAAC;QAEF,qCAAqC;QAC7B,WAAM,GAAG,GAAY,EAAE;YAC7B,IAAI,YAAE,CAAC,MAAM,EAAE;gBACb,OAAO,IAAI,CAAC;aACb;;gBAAM,OAAO,KAAK,CAAC;QACtB,CAAC,CAAC;QA/HA,MAAM,IAAI,GAAG,SAAS,CAAC,SAAS,EAAE,CAAC;QACnC,IAAI,IAAI,CAAC,SAAS,KAAK,KAAK,EAAE;YAC5B,MAAM,IAAI,KAAK,CAAC,8BAA8B,CAAC,CAAC;SACjD;QACD,IAAI,CAAC,SAAS,GAAG,SAAS,CAAC;QAC3B,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC;IACrB,CAAC;IAEM,KAAK,CAAC,KAAK;QAChB,MAAM,IAAI,GAAG,IAAI,CAAC,SAAS,CAAC,SAAS,EAAE,CAAC;QACxC,IAAI,IAAI,CAAC,MAAM,EAAE,EAAE;YACjB,IAAI,CAAC,MAAM,GAAG,IAAI,YAAE,CAAC,MAAM,CAAC,EAAE,IAAI,EAAE,IAAI,CAAC,IAAI,EAAE,IAAI,EAAE,IAAI,CAAC,IAAI,EAAE,cAAc,EAAE,IAAI,EAAE,CAAC,CAAC;YACxF,IAAI,CAAC,MAAM,CAAC,EAAE,CAAC,YAAY,EAAE,CAAC,UAAU,EAAE,GAAG,EAAE,EAAE;gBAC/C,MAAM,UAAU,GAAG,GAAG,CAAC,UAAU,CAAC,aAAa,CAAC;gBAChD,MAAM,UAAU,GAAG,GAAG,CAAC,UAAU,CAAC,UAAU,CAAC;gBAC7C,GAAG,CAAC,uBAAuB,UAAU,IAAI,UAAU,EAAE,CAAC,CAAC;gBACvD,oEAAoE;gBACpE,UAAU,CAAC,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,EAAE,OAAO,EAAE,UAAU,EAAE,IAAI,EAAE,UAAU,EAAE,CAAC,CAAC,CAAC;gBAC3E,gHAAgH;gBAChH,qDAAqD;gBACrD,aAAa;gBACb,UAAU,CAAC,SAAS,GAAG,QAAQ,GAAG,CAAC,UAAU,CAAC,aAAa,QAAQ,GAAG,CAAC,UAAU,CAAC,UAAU,KAAK,CAAC;gBAClG,UAAU,CAAC,EAAE,CAAC,SAAS,EAAE,CAAC,GAAG,EAAE,EAAE;oBAC/B,IAAI,CAAC,cAAc,CAAC,GAAa,EAAE;wBACjC,OAAO,EAAE,GAAG,CAAC,UAAU,CAAC,aAAc;wBACtC,MAAM,EAAE,MAAM;wBACd,IAAI,EAAE,GAAG,CAAC,UAAU,CAAC,UAAW;wBAChC,IAAI,EAAE,IAAI;qBACX,CAAC,CAAC;gBACL,CAAC,CAAC,CAAC;YACL,CAAC,CAAC,CAAC;SACJ;IACH,CAAC;IAEM,KAAK,CAAC,IAAI;QACf,IAAI,IAAI,CAAC,MAAM,EAAE,IAAI,IAAI,CAAC,MAAM,EAAE;YAChC,IAAI,CAAC,MAAM,CAAC,GAAG,CAAC,SAAS,EAAE,IAAI,CAAC,cAAc,CAAC,CAAC;YAChD,IAAI,CAAC,MAAM,CAAC,KAAK,EAAE,CAAC;SACrB;IACH,CAAC;IAEM,KAAK,CAAC,IAAI,CAAC,EAAa,EAAE,IAAY,EAAE,MAAe;QAC5D,IAAI,IAAI,CAAC,MAAM,EAAE,EAAE;YACjB,IAAI,CAAC,MAAM,EAAE,OAAO,CAAC,OAAO,CAAC,CAAC,MAAU,EAAE,EAAE;gBAC1C,4FAA4F;gBAC5F,YAAY;gBACZ,IAAI,EAAE,CAAC,QAAQ,EAAE,CAAC,QAAQ,CAAC,MAAM,CAAC,SAAS,CAAC,QAAQ,EAAE,CAAC,EAAE;oBACvD,MAAM,OAAO,GAAG,qBAAY,CAAC,IAAI,EAAE,MAAM,CAAC,CAAC;oBAC3C,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;iBACtB;YACH,CAAC,CAAC,CAAC;SACJ;aAAM;YACL,uCAAuC;YACvC,MAAM,UAAU,GAAG,MAAM,IAAI,CAAC,aAAa,CAAC,EAAE,CAAC,CAAC;YAChD,UAAU,CAAC,UAAU,CAAC,qBAAY,CAAC,IAAI,EAAE,MAAM,CAAC,CAAC,CAAC;SACnD;IACH,CAAC;CAwEF;AA/ID,8DA+IC"}